---
#############################
# 10 second videos
video_driveway:
  alias: "driveway video"
  sequence:
    - service: shell_command.cam_driveway_vid
      data:
        filename: /tmp/driveway.mp4
    - delay:
        seconds: 12
    - service: telegram_bot.send_video
      data_template:
        file: "/tmp/driveway.mp4"
video_daisy:
  alias: "Daisy video"
  sequence:
    - service: shell_command.cam_daisy_vid
      data:
        filename: /tmp/daisy.mp4
    - delay:
        seconds: 13
    - service: telegram_bot.send_video
      data_template:
        file: "/tmp/daisy.mp4"
video_deck:
  alias: "deck video"
  sequence:
    - service: shell_command.cam_deck_vid
      data:
        filename: /tmp/deck.mp4
    - delay:
        seconds: 12
    - service: telegram_bot.send_video
      data_template:
        file: "/tmp/deck.mp4"
video_garage:
  alias: "garage video"
  sequence:
    - service: shell_command.cam_garage_vid
      data:
        filename: /tmp/garage.mp4
    - delay:
        seconds: 12
    - service: telegram_bot.send_video
      data_template:
        file: "/tmp/garage.mp4"
video_kitchen:
  alias: "kitchen video"
  sequence:
    - service: shell_command.cam_kitchen_vid
      data:
        filename: /tmp/kitchen.mp4
    - delay:
        seconds: 12
    - service: telegram_bot.send_video
      data_template:
        file: "/tmp/kitchen.mp4"
video_doorbell:
  alias: "doorbell video"
  sequence:
    - service: shell_command.cam_doorbell_vid
      data:
        filename: /tmp/doorbell.mp4
    - delay:
        seconds: 12
    - service: telegram_bot.send_video
      data_template:
        file: "/tmp/doorbell.mp4"

fire_alarm:
  alias: "fire alarm"
  sequence:
    - service: notify.telegram_jon
      data_template:
        title: 'Disable this notification?'
        message: "Disable this notification?"
        inline_keyboard:
          - "Yes:/turnoffnotification"
    - service: media_player.volume_set
      data:
        entity_id: media_player.basement_ghm, media_player.googlehomehub6982
        volume_level: "0.90"
    - service: tts.google_say
      data:
        entity_id: media_player.basement_ghm, media_player.googlehomehub6982
        message: "Fire Alarm, Evacuate Immediately"
    - delay:
        seconds: 2
    - service: script.turn_on
      data:
        entity_id: script.fire_alarm_loop

fire_alarm_loop:
  alias: "fire alarm loop"
  sequence:
    - condition: state
      entity_id: input_boolean.fire
      state: 'on'
    - delay:
        seconds: 5
    - service: script.turn_on
      data:
        entity_id: script.fire_alarm
