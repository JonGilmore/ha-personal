# Home Assistant Configuration

Here's an overview of my Home Assistant configuration as well as the devices that are used in it.

## Lovelace

![Lovelace](https://raw.githubusercontent.com/JonGilmore/ha-personal/master/images/lovelace0.png)

## Devices/Hardware

Hardware

-   Intel Nuc: [NUC5i7RYB](https://www.intel.com/content/dam/support/us/en/documents/boardsandkits/NUC5i7RYB_NUC5i7RYBR_TechProdSpec.pdf)
    -   [Google Coral](https://coral.withgoogle.com/products/accelerator)
-   [SmartThings hub](https://amzn.to/37TLLVe)
    -   Leak: [SmartThings](https://amzn.to/36R6Luk)
    -   Open/Close: [SmartThings](https://amzn.to/2RRxbIq)
    -   Thermostats: [Trane XR524](https://amzn.to/2tq6l0A), [GC-TBZ48](https://amzn.to/2RPjMk8)
    -   Energy: [Aeotec ZW095](https://amzn.to/2UgVJfn)
    -   Water Valve: [DMWV1](https://amzn.to/37POmQ3)
    -   Motion Switch: [GE 26931](https://amzn.to/2UfHpUs)
    -   Locks: (2x)[BE469](https://amzn.to/38XtTZI)
-   Lighting: Lutron RadioRA2
    -   Repeaters: [RR-MAIN-REP-WH](https://amzn.to/36KtS9T), [RR-AUX-REP-WH](https://amzn.to/31gyDHf)
    -   Keypads: [RRD-HN6BRL](https://amzn.to/2S6jOTs), [RR-T10RL](https://amzn.to/3928wGu)
    -   Dimmers: [RRD-6ND](https://amzn.to/3b2uRFV), [RRD-6CL](https://amzn.to/31nnbtp), [RRD-6NA](https://amzn.to/2RP5q32), [RRD-10ND](https://amzn.to/37TLaTu), [RD-RD](https://amzn.to/31hjepZ), [RRD-3LD](https://amzn.to/2ROcJrA)
    -   Switches: [RRD-8ANS](https://amzn.to/2OkZe0z), [RD-RS](https://amzn.to/37Q2DvZ)
    -   Fan Controls: [RRD-2ANF](https://amzn.to/2ROBTGH)
    -   Wireless Remotes: [PJ2-4B](https://amzn.to/2ueDbSe)
    -   Motion Sensors: [LRF2-OCR2B-P](https://amzn.to/2RMnQRX)
-   A/V Equipment
    -   [OLED65B8](https://amzn.to/2tkcsmW)
    -   [TCL 49S517](https://amzn.to/2UgypON)
    -   [TCL 43S517](https://amzn.to/3b36mbO)
-   Alarm: Elk M1 Gold
    -   [Motion Sensors: ISC-BPR2-WP12](https://amzn.to/2UcQNrY)
    -   [Leak Sensors: GRI 2600](https://amzn.to/3aZMrua)
    -   [Smoke Detectors: System Sensor 2WT-B](https://amzn.to/2S8YvAO)
    -   [ELK-M1KP](https://amzn.to/2vzUFsD), [ELK-M1KP2](https://amzn.to/2OlSj7c), [ELK-M1XIN](https://amzn.to/2GIPU2b), [ELK-M1RB](https://amzn.to/2RPn9re), [ELK-M1DBH](https://amzn.to/2GHxcIm), [ELK-M1XEP](https://amzn.to/3b61qma), [ELK-P212S](https://amzn.to/31oudhG), [ELK-SP12F](https://amzn.to/38Yaqbm), [ELK-73](https://amzn.to/2SdWFPb)
-   Cameras:
    -   [Hikvision turret](https://amzn.to/2tkG2bX), [Hikvision dome](https://amzn.to/2uawctH), [Hikvision bullet](https://amzn.to/38XvuPc)
    -   [Wyze](https://amzn.to/2Ul8WDV)
    -   [Samsung](https://amzn.to/31rQoUh)
    -   [Doorbird d101s](https://amzn.to/3aZNz0N)
-   Network:
    -   Firewall/Router: [Ubiquiti USG-PRO-4](https://amzn.to/2Sb8Snx)
    -   Switches: [US-24-250W](https://amzn.to/2Uh3qlN), [US-16-150W](https://amzn.to/2GNrswF)
    -   WiFi: [AP-AC-Pro](https://amzn.to/2GMd3Rq), [AP-nanoHD](https://amzn.to/2toDEkC)
    -   Management: [UC-CK](https://amzn.to/36Qkwtt)
-   NAS: Synology DS1515
    -   [8TB HGST NAS drives](https://amzn.to/38ZhLav)
-   NAS: Synology DS413j (offsite backup)
    -   [4TB WD Reds](https://amzn.to/31fxuzE)
-   Sensors:
    -   esp8266 using various: [dht22](https://amzn.to/36UrPQZ), [infrared PIR](https://amzn.to/2S8V2Ce), [lux sensors](https://amzn.to/2Ui3wcI)
-   Smoke Detectors: Nest
-   Blinds: [Hunter Douglas PowerView](https://amzn.to/2OgiTyE)
-   WiFi Bulbs: [Lifx](https://amzn.to/3aZQqa6)
-   Water Heater: Rheem Econet
-   Voice
    -   [Google Home Hub](https://store.google.com/us/product/google_nest_hub), [Google Home Mini](https://store.google.com/us/product/google_home_mini)
    -   [Echo Dot V3](https://amzn.to/2UiezTy), [Echo Show 5](https://amzn.to/2OkOwag)
-   Audio
    -   [Sonos Beam](https://amzn.to/2UjSOma)
    -   [Sonos One](https://amzn.to/2Se170l)
    -   [Sonos Play:5](https://amzn.to/3b2u3kr)
    -   [Sonos Play:3](https://amzn.to/2OjF3A8)
    -   [Sonos Amp](https://amzn.to/2RNeAx2)
-   Random Hardware:
    -   [Bond](https://amzn.to/3b5aVlS)

## Automations

Here are some example automations

-   If a garage is open for 10 minutes, and the garage heater is on, turn off the heat and notify.
-   If a garage door is open for 5 or 60 minutes, notify and push an actionable notification
-   If a person is detected on external cameras, and its nighttime or I'm away, send a short clip via Telegram
-   Based on house occupancy status, either enable or disable port forwarding for WireGuard VPN
-   Set thermostats to comfortable temperatures during the day as long as vacation mode isn't on
-   If vacation mode is enabled during the summer, set back thermostats, disable the recirculation pump and notify of actions
-   If vacation mode is enabled during the winter, set back thermostats (including the garage), disable the recirculation pump and notify of actions
-   If vacation mode is enabled, check the front door lock. If unlocked, notify and attempt to lock
-   Christmas light automations: only during December, turn on lights as long as the house is occupied. Turn off the Xmas trees when Laura gets into bed or we leave the house
-   If the front door camera has somebody cross a virtual line, or the doorbell rings, turn on the foyer and exterior lights. If we're not home, turn them off in 10 minutes
-   If the front door camera has somebody cross a virtual line, send a push notification to the Living Room TV and push a picture
-   If the doorbell rings, stream the Doorbird video to the Nest hub and the basement wallpanel
-   If a person is detected on the deck or in the garage at night, turn on the appropriate lights
-   Between Oct-May, when we wake up, turn on some lights
-   Close the blinds on the main floor at dusk, open them at 7:30am daily
-   At bedtime, setback HVAC, set HVAC fans to on, turn off all the lights, turn off all TVs and turn off the recirculation pump
    -   If the garage doors are open, send a push notification
    -   If the doors are unlocked, lock and notify which one(s) were unlocked
-   Upon awakening, set HVAC fans to auto and turn the recirculation pump back on
-   If the house becomes unoccupied during the day, turn off all lights and TVs, turn on the recirculation pump and set HVAC fans to on
-   While on vacation, turn all lights off at 11:30pm
-   If the indoor light sensor goes below a threshold for 5 minutes, turn on the normal sunset lights and set the HomeAssistant theme to dark mode
-   If AC is on, turn on the Master bedroom fan at 8pm
-   At 10am daily, check to make sure humidity in the house is set appropriately based on outside temperature. Notify if not
-   If a water leak is detected, close the water main, turn off the recirculation pump and notify
-   If a fire is active, unlock locks, send videos from cameras, turn lights on, send repeat notifications until acknowledged
-   If burglar alarm goes off, turn all lights on, send clips from cameras and send repeat notifications
-   In the evening, if motion is detected in the master bedroom, enable circadian lighting on a couple of different lamps (not in the sitting room if bed is occupied)
-   Kill kitchen lights if no motion is detected in 20 minutes
-   When we're away from the house, check if Daisy is in her kennel. If so, send a video clip ever 45 minutes for updates
-   If no motion in the basement for 30 minutes, turn off the entire basement
-   If the Elk alarm gets a trouble indication, notify
-   If Jon gets a work page at night, turn on the bedside lamp
-   Notify on the following triggers:
    -   Dishwasher status
    -   Public IP change
    -   Office PIR or kitchen fridge tamper
    -   Kitchen fridge, Elk alarm, or master bedroom temps are out of expected range
    -   If there is a Home Assistant update available
    -   Daily check for important dates that are 2 weeks out (birthdays, anniversaries)
-   If motion is detected in closets, pantry and bathrooms, turn on the lights
-   Every evening (as long as it's summer), turn on the master bedroom fan, turn it off in the morning and disable dark mode theme
-   Alert me on battery devices when they're under 10% remaining
-   Guest mode disables certain things such as all lights except for master bed off at bed time.