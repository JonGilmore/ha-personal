title: !secret name
resources:
  - url: /hacsfiles/mini-media-player/mini-media-player-bundle.js
    type: module
  - url: /hacsfiles/button-card/button-card.js
    type: module
  - url: /hacsfiles/decluttering-card/decluttering-card.js
    type: module
  - url: /hacsfiles/mini-graph-card/mini-graph-card-bundle.js
    type: module
  - url: /hacsfiles/mini-climate-card/mini-climate-card-bundle.js
    type: module
  - url: /hacsfiles/lovelace-auto-entities/auto-entities.js
    type: module
  - url: /hacsfiles/lovelace-multiple-entity-row/multiple-entity-row.js
    type: module
  - url: /hacsfiles/lovelace-layout-card/layout-card.js
    type: module
  - url: /hacsfiles/frigate-hass-card/frigate-hass-card.js
    type: module
  - url: /hacsfiles/lovelace-card-tools/card-tools.js
    type: module
  - url: /hacsfiles/lovelace-fold-entity-row/fold-entity-row.js
    type: module
  - url: /hacsfiles/lovelace-template-entity-row/template-entity-row.js
    type: module
  - url: /hacsfiles/custom-sonos-card/custom-sonos-card.js
    type: module
  - url: /hacsfiles/lovelace-card-mod/card-mod.js
    type: module
  - url: /hacsfiles/slider-button-card/slider-button-card.js
    type: module

decluttering_templates:
  small_group:
    card:
      type: button
      entity: "[[entity]]"
      name: "[[name]]"
      icon: mdi:lightbulb
      tap_action:
        action: call-service
        service: button.press
        service_data:
          entity_id: "[[button]]"
      double_tap_action:
        action: navigate
        navigation_path: "[[page]]"
  big_group:
    card:
      type: entities
      entities:
        - type: custom:auto-entities
          show_empty: false
          sort:
            method: name
          card:
            type: custom:fold-entity-row
            head: "[[group]]"
          filter:
            include:
              - group: "[[group]]"

views:
  ##########################################
  # HOME TAB
  ##########################################
  - title: Home
    id: home
    icon: mdi:home
    cards:
      - type: entities
        show_name: false
        show_header_toggle: false
        entities:
          - entity: alarm_control_panel.elkm1_area_1
            type: custom:multiple-entity-row
            name: Alarm
            show_state: false
            secondary_info: last-changed
            entities:
              - entity: alarm_control_panel.elkm1_area_1
      - type: weather-forecast
        entity: weather.tomorrow_io_home_daily
      - type: vertical-stack
        cards:
          - type: entities
            show_name: false
            show_header_toggle: false
            entities:
              - entity: binary_sensor.garage_doors
                type: custom:multiple-entity-row
                name: Garage
                show_state: false
                secondary_info: last-changed
                entities:
                  - entity: cover.single_garage_door
                    name: single
                    tap_action:
                      action: toggle
                  - entity: cover.double_garage_door
                    name: double
                    tap_action:
                      action: toggle
          - type: horizontal-stack
            cards:
              - type: custom:slider-button-card
                entity: lock.garage_lock
                slider:
                  direction: left-right
                  background: solid
                  toggle_on_click: true
                icon:
                  use_state_color: true
                  tap_action:
                    action: more-info
                action_button:
                  show: false
              - type: custom:slider-button-card
                entity: lock.workshop_lock
                slider:
                  direction: left-right
                  background: solid
                  toggle_on_click: true
                icon:
                  use_state_color: true
                  tap_action:
                    action: more-info
                action_button:
                  show: false
              - type: custom:slider-button-card
                entity: lock.mudroom_lock
                slider:
                  direction: left-right
                  background: solid
                  toggle_on_click: true
                icon:
                  use_state_color: true
                  tap_action:
                    action: more-info
                action_button:
                  show: false
          - type: horizontal-stack
            cards:
              - type: custom:decluttering-card
                template: small_group
                variables:
                  - entity: group.main_floor_lights
                  - name: Main
                  - button: button.basement_equipment_room_phantom_kp_position_1_keypad_main_off
                  - page: "/lovelace/lights-main"
              - type: custom:decluttering-card
                template: small_group
                variables:
                  - entity: group.upstairs_lights
                  - name: Upstairs
                  - button: button.basement_equipment_room_phantom_kp_position_1_keypad_second_off
                  - page: "/lovelace/lights-upstairs"
              - type: custom:decluttering-card
                template: small_group
                variables:
                  - entity: group.basement_lights
                  - name: Basement
                  - button: button.basement_equipment_room_phantom_kp_position_1_keypad_basement_off
                  - page: "/lovelace/lights-basement"
              - type: custom:decluttering-card
                template: small_group
                variables:
                  - entity: group.exterior_lights
                  - name: Exterior
                  - button: button.basement_equipment_room_phantom_kp_position_1_keypad_exterior_off
                  - page: "/lovelace/lights-exterior"
          - type: tile
            icon: mdi:roller-shade
            entity: group.all_shades
      - type: picture-glance
        camera_image: camera.driveway
        title: Exterior
        entities:
          - switch.exterior_front_lights
        double_tap_action:
          action: navigate
          navigation_path: /lovelace/camerasv1
      - type: entities
        title: Presence
        show_header_toggle: false
        entities:
          - entity: binary_sensor.anybody_home
            type: custom:multiple-entity-row
            name: Presence
            secondary_info: last-changed
            entities:
              - entity: binary_sensor.anybody_away
          - entity: binary_sensor.anybody_home
            type: custom:multiple-entity-row
            name: People
            hide_state: true
            entities:
              - entity: person.jon
              - entity: person.laura
      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          title: Lights On
        filter:
          include:
            - group: group.all_lights
              state: "on"
        sort:
          method: name
      - type: vertical-stack
        cards:
          - type: entities
            show_name: false
            show_header_toggle: false
            entities:
              - entity: sensor.trash
                type: custom:multiple-entity-row
                name: Waste Pickup
                show_state: false
                entities:
                  - entity: sensor.trash
                    attribute: next_date
                    format: relative
                    tap_action:
                      action: url
                      url_path: !secret trash
                  - entity: sensor.recycling
                    attribute: next_date
                    format: relative
                    tap_action:
                      action: url
                      url_path: !secret recycling
      - type: "custom:auto-entities"
        show_empty: true
        card:
          title: Important Dates
          type: entities
          show_header_toggle: false
        sort:
          method: state
          numeric: true
        filter:
          include:
            - entity_id: "/(birthday|anniversary|holiday)/"
              state: < 45
              options:
                type: custom:template-entity-row
                state: |
                  {% if is_state(config.entity, '0') %}
                    today
                  {% elif is_state(config.entity, '1') %}
                    tomorrow
                  {% else %}
                    {{ states(config.entity) }} days
                  {% endif %}
                # if current_years isnt defined, then add nothing at the front, elif the day is today, then add their current_years, else just add yrs at next
                secondary: |
                  {% if state_attr(config.entity, 'current_years') == None %}
                  {% elif is_state(config.entity, '0') %}
                    {{ state_attr(config.entity, 'current_years') }} yrs - 
                  {% else %}
                    {{ state_attr(config.entity, 'years_at_next_anniversary') }} yrs - 
                  {% endif %}
                  {{ as_timestamp(state_attr(config.entity, 'date')) | timestamp_custom('%m/%d/%Y') }}
      - type: entities
        title: Equipment
        show_header_toggle: false
        entities:
          - entity: switch.basement_equipment_room_recirculation_pump
            type: custom:multiple-entity-row
            name: Recirc Pump
            secondary_info: last-changed
            entities:
              # - entity: switch.water_main_shut_off
              #   name: main
              #   toggle: true
              - entity: switch.basement_equipment_room_recirculation_pump
                name: recirc
                toggle: true
          - entity: switch.exterior_landscape_lights
            type: custom:multiple-entity-row
            name: Landscape
            secondary_info: last-changed
            entities:
              - entity: switch.exterior_landscape_lights
                name: landscape
                toggle: true
              - entity: switch.exterior_deck_posts
                name: deck
                toggle: true
          - entity: sensor.period_of_day
            type: custom:multiple-entity-row
            name: Period of Day
            secondary_info: last-changed
            entities:
              - entity: binary_sensor.light_inside
                name: main?
              - entity: binary_sensor.light_inside_basement
                name: basement?
          # - entity: sensor.bar_fridge_leak_sensor
          #   type: custom:multiple-entity-row
          #   name: bar
          #   icon: mdi:fridge
          #   show_state: false
          #   entities:
          #     - entity: sensor.bar_fridge_temperature
          #       name: fridge
          #     - entity: sensor.bar_freezer_temperature
          #       name: freezer
          # - entity: binary_sensor.kitchen_fridge_leak_water
          #   type: custom:multiple-entity-row
          #   name: kitchen
          #   icon: mdi:fridge
          #   show_state: false
          #   entities:
          #     - entity: sensor.kitchen_fridge_temperature
          #       name: fridge
          #     - entity: sensor.kitchen_freezer_temperature
          #       name: freezer
          # - entity: input_select.vacuum_room
      - type: custom:mini-graph-card
        name: Lux Sensors
        icon: mdi:brightness-6
        entities:
          - entity: sensor.main_tv_lux
            name: Main TV Lux
            show_state: true
          - entity: sensor.lounge_pir_illuminance
            name: Lounge Lux
            show_state: true

  ##########################################
  # CAMERA SUBVIEW
  ##########################################
  - title: cameras
    id: camerasv1
    icon: mdi:home
    path: camerasv1
    subview: true
    panel: true
    cards:
      - type: custom:layout-card
        layout_type: custom:grid
        layout:
          mediaquery:
            "(min-width: 1800px)":
              grid-template-areas: |
                "cam1 cam2 cam3"
                "cam4 . ."
                ". . ."
            "(min-width: 1000px)":
              grid-template-areas: |
                "cam1 cam2"
                "cam3 cam4"
            "all":
              grid-template-areas: |
                "cam1"
                "cam2"
                "cam3"
                "cam4"
        cards:
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.driveway
              - webrtc_card:
                  entity: camera.driveway_rtsp
            view_layout:
              grid-area: cam1
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.doorbell
              - webrtc_card:
                  entity: camera.a8105_e_0
            view_layout:
              grid-area: cam2
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.frontyard
              - webrtc_card:
                  entity: camera.frontyard_rtsp
            view_layout:
              grid-area: cam3
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.garage
              - webrtc_card:
                  entity: camera.garage_rtsp
            view_layout:
              grid-area: cam4

  ##########################################
  # CAMERA TAB
  ##########################################
  - title: Cameras Front
    id: camera-front
    icon: mdi:camera
    panel: true
    cards:
      - type: custom:layout-card
        layout_type: custom:grid
        layout:
          mediaquery:
            "(min-width: 1800px)":
              grid-template-areas: |
                "cam1 cam2 cam3"
                "cam4 . ."
                ". . ."
            "(min-width: 1000px)":
              grid-template-areas: |
                "cam1 cam2"
                "cam3 cam4"
            "all":
              grid-template-areas: |
                "cam1"
                "cam2"
                "cam3"
                "cam4"
        cards:
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.driveway
              - webrtc_card:
                  entity: camera.driveway_rtsp
            view_layout:
              grid-area: cam1
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.doorbell
              - webrtc_card:
                  entity: camera.a8105_e_0
            view_layout:
              grid-area: cam2
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.frontyard
              - webrtc_card:
                  entity: camera.frontyard_rtsp
            view_layout:
              grid-area: cam3
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.garage
              - webrtc_card:
                  entity: camera.garage_rtsp
            view_layout:
              grid-area: cam4

  ##########################################
  # CAMERA TAB
  ##########################################
  - title: Cameras Rear
    id: camera-rear
    icon: mdi:camera
    panel: true
    cards:
      - type: custom:layout-card
        layout_type: custom:grid
        layout:
          mediaquery:
            "(min-width: 1800px)":
              grid-template-areas: |
                "cam1 cam2 cam3"
                "cam4 cam5 ."
                ". . ."
            "(min-width: 1000px)":
              grid-template-areas: |
                "cam1 cam2"
                "cam3 cam4"
                "cam5 ."
            "all":
              grid-template-areas: |
                "cam1"
                "cam2"
                "cam3"
                "cam4"
                "cam5"
        cards:
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.deck
              - webrtc_card:
                  entity: camera.deck_rtsp
            view_layout:
              grid-area: cam1
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.workshop
              - webrtc_card:
                  entity: camera.workshop_rtsp
            view_layout:
              grid-area: cam2
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.grilldeck
              - webrtc_card:
                  entity: camera.grilldeck_rtsp
            view_layout:
              grid-area: cam3
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.mudroom
              - webrtc_card:
                  entity: camera.mudroom_rtsp
            view_layout:
              grid-area: cam4
          - type: custom:frigate-card
            cameras:
              - camera_entity: camera.patio
              - webrtc_card:
                  entity: camera.patio_rtsp
            view_layout:
              grid-area: cam5

  ##########################################
  # MUSIC TAB
  ##########################################
  - title: Music
    id: music
    icon: mdi:music
    panel: true
    cards:
      - type: custom:sonos-card
        name: Sonos
        entities:
          - media_player.deck
          - media_player.den
          - media_player.gym
          - media_player.kitchen
          - media_player.living_room
          - media_player.main_bathroom
          - media_player.main_bedroom
          - media_player.media_room
          - media_player.office
          - media_player.patio
          - media_player.playroom
          - media_player.sunroom
  ##########################################
  # TV TAB
  ##########################################
  - title: TV
    id: tv
    icon: mdi:television-classic
    cards:
      - type: media-control
        entity: media_player.gym_tv
      - type: media-control
        entity: media_player.office_tv
      - type: media-control
        entity: media_player.media_room_tv
      - type: media-control
        entity: media_player.sunroom_tv
      - type: media-control
        entity: media_player.main_bedroom_tv
      - type: media-control
        entity: media_player.living_room_tv
  ##########################################
  # LIGHT SUBVIEWS
  ##########################################
  - title: Lights - Main
    id: lights-main
    icon: mdi:lightbulb
    subview: true
    path: lights-main
    panel: true
    cards:
      - type: custom:auto-entities
        card:
          type: grid
          columns: 4
          square: false
        card_param: cards
        filter:
          include:
            - options:
                type: custom:slider-button-card
              group: group.main_floor_lights
      # - type: custom:decluttering-card
      #   template: big_group
      #   variables:
      #     - group: group.basement_lights
      # - type: custom:decluttering-card
      #   template: big_group
      #   variables:
      #     - group: group.main_floor_lights
      # - type: custom:decluttering-card
      #   template: big_group
      #   variables:
      #     - group: group.upstairs_lights
      # - type: custom:decluttering-card
      #   template: big_group
      #   variables:
      #     - group: group.exterior_lights
      # - type: custom:decluttering-card
      #   template: big_group
      #   variables:
      #     - group: group.all_fans
  - title: Lights - Upstairs
    id: lights-upstairs
    icon: mdi:lightbulb
    subview: true
    path: lights-upstairs
    panel: true
    cards:
      - type: custom:auto-entities
        card:
          type: grid
          columns: 4
          square: false
        card_param: cards
        filter:
          include:
            - options:
                type: custom:slider-button-card
              group: group.upstairs_lights
  - title: Lights - Basement
    id: lights-basement
    icon: mdi:lightbulb
    subview: true
    path: lights-basement
    panel: true
    cards:
      - type: custom:auto-entities
        card:
          type: grid
          columns: 4
          square: false
        card_param: cards
        filter:
          include:
            - options:
                type: custom:slider-button-card
              group: group.basement_lights
  - title: Lights - Exterior
    id: lights-exterior
    icon: mdi:lightbulb
    subview: true
    path: lights-exterior
    panel: true
    cards:
      - type: custom:auto-entities
        card:
          type: grid
          columns: 4
          square: false
        card_param: cards
        filter:
          include:
            - options:
                type: custom:slider-button-card
              group: group.exterior_lights

  ##########################################
  # SHADE TAB
  ##########################################
  - title: Shades
    id: shades
    icon: mdi:roller-shade
    subview: true
    path: covers
    panel: true
    cards:
      - type: custom:decluttering-card
        template: big_group
        variables:
          - group: group.all_shades
  ##########################################
  # SMARTTHINGS TAB
  ##########################################
  # - title: ST Devices
  #   id: st_devices
  #   icon: mdi:cellphone-wireless
  #   cards:
  #     - type: entities
  #       title: ST Devices
  #       show_header_toggle: false
  #       entities:
  #         - sensor.powder_room_temperature_measurement
  #         - sensor.kitchen_sink_leak_temperature_measurement
  #         - sensor.kitchen_dishwasher_leak_temperature_measurement
  #         - sensor.kitchen_fridge_leak_temperature_measurement
  #         - sensor.basement_fridge_temperature_measurement
  #         - sensor.daisy_temperature_measurement
  #         - sensor.dryer_temperature_measurement
  #         - sensor.washer_temperature_measurement
  #         - sensor.office_multi_temperature_measurement
  #         - sensor.basement_multi_temperature_measurement
  #     - type: entities
  #       title: Moisture Sensors
  #       show_header_toggle: false
  #       entities:
  #         - binary_sensor.powder_room_water
  #         - binary_sensor.kitchen_sink_leak_water
  #         - binary_sensor.kitchen_dishwasher_leak_water
  #         - binary_sensor.kitchen_fridge_leak_water
  #         - binary_sensor.basement_fridge_water
  ##########################################
  # ENERGY/CONSUMPTION TAB
  ##########################################
  # - title: Consumption
  #   id: consumption
  #   icon: mdi:chart-timeline-variant
  #   cards:
  #     - type: "custom:auto-entities"
  #       card:
  #         show_header_toggle: false
  #         title: Energy
  #         type: entities
  #       sort:
  #         method: state
  #       filter:
  #         include:
  #           - entity_id: "/^(sensor.*power|sensor.*energy).*/"
  #         exclude:
  #           - state: "unavailable"
  #       show_empty: false
  #     - type: custom:mini-graph-card
  #       name: Gas Usage
  #       icon: mdi:gas-station
  #       hours_to_show: 168
  #       points_per_hour: .25
  #       entities:
  #         - entity: sensor.gas_meter
  #           name: Gas Usage
  #           show_state: true
  #     - type: custom:mini-graph-card
  #       name: Water Consumption
  #       icon: mdi:water-pump
  #       hours_to_show: 168
  #       points_per_hour: .25
  #       entities:
  #         - entity: sensor.water_meter
  #           name: Water Consumption
  #           show_state: true
  ##########################################
  # SCENES TAB
  ##########################################
  # - title: Scenes
  #   id: scenes
  #   icon: mdi:movie-outline
  #   cards:
  #     - type: custom:auto-entities
  #       card:
  #         type: entities
  #         title: Lights Scenes (on)
  #         show_header_toggle: false
  #       filter:
  #         include:
  #           - entity_id: /scene.equipment_room_enclosure_device_001_.*on/
  #         exclude:
  #           - entity_id: /(.*flash.*|.*emergency.*)/
  #       sort:
  #         method: name
  #     - type: custom:auto-entities
  #       card:
  #         type: entities
  #         title: Lights Scenes (off)
  #         show_header_toggle: false
  #       filter:
  #         include:
  #           - entity_id: /scene.equipment_room_enclosure_device_001_.*off/
  #         exclude:
  #           - entity_id: /(.*flash.*|.*emergency.*)/
  #       sort:
  #         method: name
  #     - type: custom:auto-entities
  #       card:
  #         type: entities
  #         title: Lights Scenes (other)
  #         show_header_toggle: false
  #       filter:
  #         include:
  #           - entity_id: /scene.equipment_room_enclosure_device_001_.*/
  #         exclude:
  #           - entity_id: /(.*flash.*|.*emergency.*|.*on.*|.*off.*)/
  #       sort:
  #         method: name
  ##########################################
  # SPRINKLER TAB
  ##########################################
  # - title: Sprinklers
  #   id: sprinklers
  #   icon: mdi:flower
  #   cards:
  #     - type: entities
  #       title: Sprinkler Zones
  #       show_header_toggle: false
  #       entities:
  #         - switch.front_right_sidewalk
  #         - switch.side_right_front_right
  #         - switch.backyard_far
  #         - switch.backyard_middle
  #         - switch.backyard_near
  #         - switch.side_left
  #         - switch.front_left
  #         - switch.drip_right
  #         - switch.drip_left
  #         - switch.front_pots
  #         - switch.backyard_drip
  #         - switch.backyard_pots
  #     - type: entities
  #       title: Timers
  #       show_header_toggle: false
  #       entities:
  #         - input_number.front_right_sidewalk_timer
  #         - input_number.side_right_front_right_timer
  #         - input_number.backyard_far_timer
  #         - input_number.backyard_middle_timer
  #         - input_number.backyard_near_timer
  #         - input_number.side_left_timer
  #         - input_number.front_left_timer
  #         - input_number.drip_right_timer
  #         - input_number.drip_left_timer
  #         - input_number.front_pots_timer
  #         - input_number.backyard_drip_timer
  #         - input_number.backyard_pots_timer
  #     - type: glance
  #       title: Sprinkler Programs
  #       entities:
  #         - scene.p1_normal
  #         - scene.p2_drip
  #         - scene.p3_pots
  #     # - type: entities
  #     #   title: Sprinkler Zones
  #     #   show_header_toggle: false
  #     #   entities:
  #     #     - binary_sensor.front_right_sidewalk
  #     #     - binary_sensor.side_right_front_right
  #     #     - binary_sensor.backyard_far
  #     #     - binary_sensor.backyard_middle
  #     #     - binary_sensor.backyard_near
  #     #     - binary_sensor.side_left
  #     #     - binary_sensor.front_left
  #     #     - binary_sensor.drip_right
  #     #     - binary_sensor.drip_left
  #     #     - binary_sensor.front_pots
  #     #     - binary_sensor.backyard_drip
  #     #     - binary_sensor.backyard_pots
  #     - type: glance
  #       title: Sensors
  #       entities:
  #         - binary_sensor.rain_sensor
  #         - binary_sensor.rain_delay
  #         - sensor.rain_delay_stop_time
  #         - sensor.water_level
  #         - sensor.last_run
  ##########################################
  # MAINTENANCE TAB
  ##########################################
  - title: Maintenance
    id: maintenance
    icon: mdi:wrench
    cards:
      - type: entities
        title: Host Stats
        show_header_toggle: false
        entities:
          - sensor.disk_use_percent
          - sensor.memory_use_percent
          - sensor.cpu_temperature
      - type: entities
        title: Toggles
        show_header_toggle: false
        entities:
          - input_boolean.block_interior_motion_lights
          - input_boolean.exterior_lights_block
          - input_boolean.guests
      - type: entities
        title: Informational
        show_header_toggle: false
        entities:
          - binary_sensor.light_inside
          - sensor.main_tv_lux
          - sensor.lounge_pir_illuminance
      - type: markdown
        title: Automations Triggered
        content: |
          **Time &nbsp;&nbsp;&nbsp; Name**
          {% for state in (states.automation
            | selectattr('attributes.last_triggered', 'defined')
            | selectattr('attributes.last_triggered')
            | sort(attribute='attributes.last_triggered', reverse=true)) [0:40] -%}
            {% if (now() - state.attributes.last_triggered).total_seconds() < 86400 %}
              {%- set t = (as_timestamp(state.attributes.last_triggered) | timestamp_custom('%H:%M', True)) -%}
              {{t}} &nbsp;&nbsp; _{{state.name}}_
            {% endif -%}
          {% endfor %}
      - type: custom:mini-graph-card
        name: Circadian Brightness
        icon: mdi:brightness-6
        hours_to_show: 48
        entities:
          - entity: sensor.circadian_brightness
            name: Brightness
            show_state: true
      # - type: custom:mini-graph-card
      #   name: Internet
      #   icon: mdi:server
      #   entities:
      #     - entity: sensor.speedtest_download
      #       name: download
      #       show_state: true
      #     - entity: sensor.speedtest_ping
      #       name: ping
      #       show_state: true
      #     - entity: sensor.speedtest_upload
      #       name: upload
      #       show_state: true
      # - type: "custom:battery-state-card"
      #   title: Batteries < 60%
      #   sort_by_level: "asc"
      #   tap_action: more-info
      #   secondary_info: last_updated
      #   filter:
      #     include:
      #       - name: entity_id
      #         value: "*battery*"
      #       - name: attributes.device_class
      #         value: battery
      #     exclude:
      #       - name: state
      #         value: 40
      #         operator: ">"
      #       - name: entity_id
      #         value: "automation.*"
      #       - name: state
      #         value: "/Off|Good|Not Charging|Discharging/"
      #       - name: entity_id
      #         value: "*temp*"
  ##########################################
  # MOBILE TAB
  ##########################################
  - title: Mobile
    id: mobile
    icon: mdi:phone
    cards:
      - type: "custom:auto-entities"
        card:
          show_header_toggle: false
          title: Jon
          type: entities
        sort:
          method: state
        filter:
          include:
            - entity_id: "/^.*pixel.*/"
          exclude:
            - state: "Unavailable"
        show_empty: false
      - type: "custom:auto-entities"
        card:
          show_header_toggle: false
          title: Laura
          type: entities
        sort:
          method: state
        filter:
          include:
            - entity_id: "/^.*lauras_iphone_.*/"
          exclude:
            - state: "Unknown"
        show_empty: false

  ##########################################
  # GRAPH TAB
  ##########################################
  # - title: Graphs
  #   id: graphs
  #   icon: mdi:chart-areaspline
  #   cards:
  #     - type: entities
  #       title: Moisture Sensors
  #       show_header_toggle: false
  #       entities:
  #         - sensor.covid_mn_death

  ##########################################
  # ALARM PAGE
  ##########################################
  - title: Alarm
    id: alarm
    visible: false
    cards:
      - id: alarmPanel
        type: alarm-panel
        entity: alarm_control_panel.elkm1_area_1
        name: !secret name
        states:
          - arm_home
          - arm_away
          - arm_night

  ##########################################
  # PIR PAGE
  ##########################################
  - title: PIR
    id: pir
    icon: mdi:motion-sensor
    cards:
      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          title: Main PIRs
        filter:
          include:
            - group: group.main_motions
        sort:
          method: name
      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          title: Basement PIRs
        filter:
          include:
            - group: group.basement_motions
        sort:
          method: name
      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          title: Upstairs PIRs
        filter:
          include:
            - group: group.upstairs_motions
        sort:
          method: name
  ##########################################
  # AUTOMATION PAGE
  ##########################################
  - title: AUTOMATION
    id: automation
    icon: mdi:progress-wrench
    cards:
      - type: "custom:auto-entities"
        show_empty: true
        card:
          title: Automations
          type: entities
          show_header_toggle: true
        sort:
          method: name
        filter:
          include:
            - entity_id: "/automation.*/"
