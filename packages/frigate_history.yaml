---
camera:
  # driveway
  - platform: mjpeg
    name: driveway_hist
    mjpeg_url: !secret frigate_driveway_cam
  - platform: local_file
    name: driveway_history1
    file_path: /config/www/driveway_image1.jpg
  - platform: local_file
    name: driveway_history2
    file_path: /config/www/driveway_image2.jpg
  - platform: local_file
    name: driveway_history3
    file_path: /config/www/driveway_image3.jpg
  - platform: local_file
    name: driveway_history4
    file_path: /config/www/driveway_image4.jpg
  - platform: local_file
    name: driveway_history5
    file_path: /config/www/driveway_image5.jpg
  - platform: local_file
    name: driveway_history6
    file_path: /config/www/driveway_image6.jpg
  - platform: local_file
    name: driveway_history7
    file_path: /config/www/driveway_image7.jpg
  - platform: local_file
    name: driveway_history8
    file_path: /config/www/driveway_image8.jpg
  - platform: local_file
    name: driveway_history9
    file_path: /config/www/driveway_image9.jpg
  - platform: local_file
    name: driveway_history10
    file_path: /config/www/driveway_image10.jpg
  # deckstairs
  - platform: mjpeg
    name: deckstairs_hist
    mjpeg_url: !secret frigate_deckstairs_cam
  - platform: local_file
    name: deckstairs_history1
    file_path: /config/www/deckstairs_image1.jpg
  - platform: local_file
    name: deckstairs_history2
    file_path: /config/www/deckstairs_image2.jpg
  - platform: local_file
    name: deckstairs_history3
    file_path: /config/www/deckstairs_image3.jpg
  - platform: local_file
    name: deckstairs_history4
    file_path: /config/www/deckstairs_image4.jpg
  - platform: local_file
    name: deckstairs_history5
    file_path: /config/www/deckstairs_image5.jpg
  - platform: local_file
    name: deckstairs_history6
    file_path: /config/www/deckstairs_image6.jpg
  - platform: local_file
    name: deckstairs_history7
    file_path: /config/www/deckstairs_image7.jpg
  - platform: local_file
    name: deckstairs_history8
    file_path: /config/www/deckstairs_image8.jpg
  - platform: local_file
    name: deckstairs_history9
    file_path: /config/www/deckstairs_image9.jpg
  - platform: local_file
    name: deckstairs_history10
    file_path: /config/www/deckstairs_image10.jpg
  # deck
  - platform: mjpeg
    name: deck_hist
    mjpeg_url: !secret frigate_deck_cam
  - platform: local_file
    name: deck_history1
    file_path: /config/www/deck_image1.jpg
  - platform: local_file
    name: deck_history2
    file_path: /config/www/deck_image2.jpg
  - platform: local_file
    name: deck_history3
    file_path: /config/www/deck_image3.jpg
  - platform: local_file
    name: deck_history4
    file_path: /config/www/deck_image4.jpg
  - platform: local_file
    name: deck_history5
    file_path: /config/www/deck_image5.jpg
  - platform: local_file
    name: deck_history6
    file_path: /config/www/deck_image6.jpg
  - platform: local_file
    name: deck_history7
    file_path: /config/www/deck_image7.jpg
  - platform: local_file
    name: deck_history8
    file_path: /config/www/deck_image8.jpg
  - platform: local_file
    name: deck_history9
    file_path: /config/www/deck_image9.jpg
  - platform: local_file
    name: deck_history10
    file_path: /config/www/deck_image10.jpg
  # doorbell
  - platform: mjpeg
    name: doorbell_hist
    mjpeg_url: !secret frigate_doorbell_cam
  - platform: local_file
    name: doorbell_history1
    file_path: /config/www/doorbell_image1.jpg
  - platform: local_file
    name: doorbell_history2
    file_path: /config/www/doorbell_image2.jpg
  - platform: local_file
    name: doorbell_history3
    file_path: /config/www/doorbell_image3.jpg
  - platform: local_file
    name: doorbell_history4
    file_path: /config/www/doorbell_image4.jpg
  - platform: local_file
    name: doorbell_history5
    file_path: /config/www/doorbell_image5.jpg
  - platform: local_file
    name: doorbell_history6
    file_path: /config/www/doorbell_image6.jpg
  - platform: local_file
    name: doorbell_history7
    file_path: /config/www/doorbell_image7.jpg
  - platform: local_file
    name: doorbell_history8
    file_path: /config/www/doorbell_image8.jpg
  - platform: local_file
    name: doorbell_history9
    file_path: /config/www/doorbell_image9.jpg
  - platform: local_file
    name: doorbell_history10
    file_path: /config/www/doorbell_image10.jpg
  # garage
  - platform: mjpeg
    name: garage_hist
    mjpeg_url: !secret frigate_garage_cam
  - platform: local_file
    name: garage_history1
    file_path: /config/www/garage_image1.jpg
  - platform: local_file
    name: garage_history2
    file_path: /config/www/garage_image2.jpg
  - platform: local_file
    name: garage_history3
    file_path: /config/www/garage_image3.jpg
  - platform: local_file
    name: garage_history4
    file_path: /config/www/garage_image4.jpg
  - platform: local_file
    name: garage_history5
    file_path: /config/www/garage_image5.jpg
  - platform: local_file
    name: garage_history6
    file_path: /config/www/garage_image6.jpg
  - platform: local_file
    name: garage_history7
    file_path: /config/www/garage_image7.jpg
  - platform: local_file
    name: garage_history8
    file_path: /config/www/garage_image8.jpg
  - platform: local_file
    name: garage_history9
    file_path: /config/www/garage_image9.jpg
  - platform: local_file
    name: garage_history10
    file_path: /config/www/garage_image10.jpg

automation:
  - alias: create_history_driveway
    trigger:
      - entity_id: binary_sensor.driveway_person
        from: "off"
        platform: state
        to: "on"
    action:
      - data:
          entity_id: camera.driveway_history2
          filename: /config/www/driveway_image1.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_history3
          filename: /config/www/driveway_image2.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_history4
          filename: /config/www/driveway_image3.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_history5
          filename: /config/www/driveway_image4.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_history6
          filename: /config/www/driveway_image5.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_history7
          filename: /config/www/driveway_image6.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_history8
          filename: /config/www/driveway_image7.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_history9
          filename: /config/www/driveway_image8.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_history10
          filename: /config/www/driveway_image9.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_hist
          filename: /config/www/driveway_image10.jpg
        service: camera.snapshot
  - alias: create_history_deckstairs
    trigger:
      - entity_id: binary_sensor.deckstairs_person
        from: "off"
        platform: state
        to: "on"
    action:
      - data:
          entity_id: camera.deckstairs_history2
          filename: /config/www/deckstairs_image1.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_history3
          filename: /config/www/deckstairs_image2.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_history4
          filename: /config/www/deckstairs_image3.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_history5
          filename: /config/www/deckstairs_image4.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_history6
          filename: /config/www/deckstairs_image5.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_history7
          filename: /config/www/deckstairs_image6.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_history8
          filename: /config/www/deckstairs_image7.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_history9
          filename: /config/www/deckstairs_image8.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_history10
          filename: /config/www/deckstairs_image9.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_hist
          filename: /config/www/deckstairs_image10.jpg
        service: camera.snapshot
  - alias: create_history_deck
    trigger:
      - entity_id: binary_sensor.deck_person
        from: "off"
        platform: state
        to: "on"
    action:
      - data:
          entity_id: camera.deck_history2
          filename: /config/www/deck_image1.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_history3
          filename: /config/www/deck_image2.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_history4
          filename: /config/www/deck_image3.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_history5
          filename: /config/www/deck_image4.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_history6
          filename: /config/www/deck_image5.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_history7
          filename: /config/www/deck_image6.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_history8
          filename: /config/www/deck_image7.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_history9
          filename: /config/www/deck_image8.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_history10
          filename: /config/www/deck_image9.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_hist
          filename: /config/www/deck_image10.jpg
        service: camera.snapshot
  - alias: create_history_doorbell
    trigger:
      - entity_id: binary_sensor.doorbell_person
        from: "off"
        platform: state
        to: "on"
    action:
      - data:
          entity_id: camera.doorbell_history2
          filename: /config/www/doorbell_image1.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_history3
          filename: /config/www/doorbell_image2.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_history4
          filename: /config/www/doorbell_image3.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_history5
          filename: /config/www/doorbell_image4.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_history6
          filename: /config/www/doorbell_image5.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_history7
          filename: /config/www/doorbell_image6.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_history8
          filename: /config/www/doorbell_image7.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_history9
          filename: /config/www/doorbell_image8.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_history10
          filename: /config/www/doorbell_image9.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_hist
          filename: /config/www/doorbell_image10.jpg
        service: camera.snapshot
  - alias: create_history_garage
    trigger:
      - entity_id: binary_sensor.garage_person
        from: "off"
        platform: state
        to: "on"
    action:
      - data:
          entity_id: camera.garage_history2
          filename: /config/www/garage_image1.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_history3
          filename: /config/www/garage_image2.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_history4
          filename: /config/www/garage_image3.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_history5
          filename: /config/www/garage_image4.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_history6
          filename: /config/www/garage_image5.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_history7
          filename: /config/www/garage_image6.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_history8
          filename: /config/www/garage_image7.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_history9
          filename: /config/www/garage_image8.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_history10
          filename: /config/www/garage_image9.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_hist
          filename: /config/www/garage_image10.jpg
        service: camera.snapshot

script:
  setup_frigate_history:
    sequence:
      - data:
          entity_id: camera.driveway_hist
          filename: /config/www/driveway_image10.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_hist
          filename: /config/www/driveway_image9.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_hist
          filename: /config/www/driveway_image8.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_hist
          filename: /config/www/driveway_image7.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_hist
          filename: /config/www/driveway_image6.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_hist
          filename: /config/www/driveway_image5.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_hist
          filename: /config/www/driveway_image4.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_hist
          filename: /config/www/driveway_image3.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_hist
          filename: /config/www/driveway_image2.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.driveway_hist
          filename: /config/www/driveway_image1.jpg
        service: camera.snapshot
      # deckstairs
      - data:
          entity_id: camera.deckstairs_hist
          filename: /config/www/deckstairs_image10.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_hist
          filename: /config/www/deckstairs_image9.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_hist
          filename: /config/www/deckstairs_image8.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_hist
          filename: /config/www/deckstairs_image7.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_hist
          filename: /config/www/deckstairs_image6.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_hist
          filename: /config/www/deckstairs_image5.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_hist
          filename: /config/www/deckstairs_image4.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_hist
          filename: /config/www/deckstairs_image3.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_hist
          filename: /config/www/deckstairs_image2.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deckstairs_hist
          filename: /config/www/deckstairs_image1.jpg
        service: camera.snapshot
      # deck
      - data:
          entity_id: camera.deck_hist
          filename: /config/www/deck_image10.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_hist
          filename: /config/www/deck_image9.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_hist
          filename: /config/www/deck_image8.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_hist
          filename: /config/www/deck_image7.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_hist
          filename: /config/www/deck_image6.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_hist
          filename: /config/www/deck_image5.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_hist
          filename: /config/www/deck_image4.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_hist
          filename: /config/www/deck_image3.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_hist
          filename: /config/www/deck_image2.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.deck_hist
          filename: /config/www/deck_image1.jpg
        service: camera.snapshot
      # doorbell
      - data:
          entity_id: camera.doorbell_hist
          filename: /config/www/doorbell_image10.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_hist
          filename: /config/www/doorbell_image9.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_hist
          filename: /config/www/doorbell_image8.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_hist
          filename: /config/www/doorbell_image7.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_hist
          filename: /config/www/doorbell_image6.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_hist
          filename: /config/www/doorbell_image5.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_hist
          filename: /config/www/doorbell_image4.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_hist
          filename: /config/www/doorbell_image3.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_hist
          filename: /config/www/doorbell_image2.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.doorbell_hist
          filename: /config/www/doorbell_image1.jpg
        service: camera.snapshot
      # garage
      - data:
          entity_id: camera.garage_hist
          filename: /config/www/garage_image10.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_hist
          filename: /config/www/garage_image9.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_hist
          filename: /config/www/garage_image8.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_hist
          filename: /config/www/garage_image7.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_hist
          filename: /config/www/garage_image6.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_hist
          filename: /config/www/garage_image5.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_hist
          filename: /config/www/garage_image4.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_hist
          filename: /config/www/garage_image3.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_hist
          filename: /config/www/garage_image2.jpg
        service: camera.snapshot
      - data:
          entity_id: camera.garage_hist
          filename: /config/www/garage_image1.jpg
        service: camera.snapshot

binary_sensor:
  - platform: mqtt
    name: "Deck Person"
    state_topic: "frigate/deck/person"
    device_class: moving
    availability_topic: "frigate/available"
  - platform: mqtt
    name: "DeckStairs Person"
    state_topic: "frigate/deckstairs/person"
    device_class: moving
    availability_topic: "frigate/available"
  - platform: mqtt
    name: "Driveway Person"
    state_topic: "frigate/driveway/person"
    device_class: moving
    availability_topic: "frigate/available"
  - platform: mqtt
    name: "Doorbell Person"
    state_topic: "frigate/doorbell/person"
    device_class: moving
    availability_topic: "frigate/available"
  - platform: mqtt
    name: "Garage Person"
    state_topic: "frigate/garage/person"
    device_class: moving
    availability_topic: "frigate/available"
